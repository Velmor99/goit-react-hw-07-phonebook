(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{10:function(t,e,n){t.exports={form:"styleContactForm_form__DL5i9",label:"styleContactForm_label__rJapQ",submit:"styleContactForm_submit__2oywB",inputName:"styleContactForm_inputName__1WN2P",inputNumber:"styleContactForm_inputNumber__3i7r4",appear:"styleContactForm_appear__WDonU",appearActive:"styleContactForm_appearActive__-TPz5"}},13:function(t,e,n){t.exports={contactList:"list_contactList__JnTKr",list:"list_list__3G52C",delete:"list_delete__fLEMR",enter:"list_enter__UX-bH",enterActive:"list_enterActive__3BbQ_",exit:"list_exit__Mg8ZJ",exitActive:"list_exitActive__EPjFN"}},21:function(t,e,n){t.exports={form:"filter_form__1q45Y",label:"filter_label__3xZqv",filterInput:"filter_filterInput__2-WeJ"}},25:function(t,e,n){t.exports={title:"title_title__-jQ6Z",appear:"title_appear__36WMq",appearActive:"title_appearActive__16s3Y"}},26:function(t,e,n){t.exports={alert:"notify_alert__9jM1h",notifyBlock:"notify_notifyBlock__2wFlX"}},39:function(t,e,n){t.exports={enter:"filter_enter__2by4m",enterActive:"filter_enterActive__1K5Dh",exit:"filter_exit__2nAZW",exitActive:"filter_exitActive__MsPvS"}},40:function(t,e,n){t.exports={enter:"notify_enter__1t_u7",enterActive:"notify_enterActive__3lCie",exit:"notify_exit__3KW0b",exitActive:"notify_exitActive__2gfix"}},42:function(t,e,n){t.exports=n(69)},69:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(9),o=n.n(r),i=n(16),s=n(17),u=n(20),l=n(18),m=n(2),f=n(10),b=n.n(f),_=n(70),d=n(7),p="contacts/changeFilter",C=n(1),h=Object(C.b)("contacts/addRequest"),v=Object(C.b)("contacts/successRequest"),O=Object(C.b)("contacts/errorRequest"),y=Object(C.b)("contact/addRequest"),j=Object(C.b)("contact/successRequest"),g=Object(C.b)("contact/errorRequest"),E=Object(C.b)("remove/addRequest"),N=Object(C.b)("remove/successRequest"),x=Object(C.b)("remove/errorRequest"),F=Object(C.b)("show/notifyShow"),w=Object(C.b)("show/trueNotify"),A=Object(C.b)("show/falseNotify"),k={removeContactsRequest:E,removeContactsSuccess:N,removeContactsError:x,addContactsRequest:h,addContactsSuccess:v,addContactsError:O,getContactsRequest:y,getContactsSuccess:j,getContactsError:g,changeFilter:Object(C.b)(p),showNotifyToggle:F,showNotifyTrue:w,showNotifyFalse:A},q=n(14),S=n.n(q);S.a.defaults.baseURL="http://localhost:2000";var R={addContact:function(t,e){return function(n){if(n(k.addContactsRequest()),""===t||""===e)return n(k.addContactsError()),n(k.showNotifyTrue(!0)),setTimeout((function(){return n(k.showNotifyFalse(!1))}),1500);S.a.post("/contacts",{name:t,number:e}).then((function(t){console.log(t),n(k.addContactsSuccess(t.data))})).catch((function(t){return n(k.addContactsError(t))}))}},getContact:function(){return function(t){t(k.getContactsRequest()),S.a.get("/contacts").then((function(e){return t(k.getContactsSuccess(e.data))})).catch((function(e){return t(k.getContactsError(e))}))}},removeContact:function(t){return function(e){e(k.removeContactsRequest()),S.a.delete("/contacts/".concat(t)).then((function(){return e(k.removeContactsSuccess(t))})).catch((function(t){return e(k.removeContactsError(t))}))}}},L=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(m.a)({},a,c))},t.preventSubmit=function(t){t.preventDefault()},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this;return c.a.createElement(_.a,{in:!0,appear:!0,classNames:b.a,timeout:700,unmountOnExit:!0},c.a.createElement("form",{className:b.a.form,onSubmit:this.preventSubmit},c.a.createElement("label",{className:b.a.label},"Name",c.a.createElement("br",null),c.a.createElement("input",{className:b.a.inputName,name:"name",type:"text",onChange:this.handleChange})),c.a.createElement("label",{className:b.a.label},"Number",c.a.createElement("br",null),c.a.createElement("input",{className:b.a.inputNumber,name:"number",type:"text",onChange:this.handleChange})),c.a.createElement("button",{className:b.a.submit,name:"name",onClick:function(){return t.props.clickEvent(t.state.name,t.state.number)},type:"submit"},"Add to contacts")))}}]),n}(a.Component),B={clickEvent:R.addContact},I=Object(d.b)(null,B)(L),T=n(21),J=n.n(T),M=n(8),W=function(t){return t.contacts.items},D=function(t){return t.contacts.filter},P={getLoading:function(t){return t.contacts.loading},getFilter:D,getVisibleContacts:Object(M.a)([W,D],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),getItemById:function(t,e){return W(t).find((function(t){return t.id===e}))},getShowNotify:function(t){return t.contacts.emptyField}};var Z={onChangeFilter:k.changeFilter},G=Object(d.b)((function(t){return{value:P.getFilter(t)}}),Z)((function(t){var e=t.value,n=t.onChangeFilter;return c.a.createElement("form",{className:J.a.form},c.a.createElement("label",{className:J.a.label},"Find contacts by name",c.a.createElement("br",null),c.a.createElement("input",{className:J.a.filterInput,type:"text",value:e,onChange:function(t){return n(t.target.value)}})))})),K=n(13),Q=n.n(K),U=n(38),V=Object(d.b)((function(t,e){var n=P.getItemById(t,e.id);return Object(U.a)({},n)}),(function(t,e){return{click:function(){return t(R.removeContact(e.id))}}}))((function(t){var e=t.id,n=t.name,a=t.number,r=t.click;return c.a.createElement("li",{key:e,className:Q.a.list},n,": ",a,c.a.createElement("button",{className:Q.a.delete,onClick:r}))})),X=n(71);var Y,z,H,$={hclick:k.removeContact},tt=Object(d.b)((function(t){return{filteredArr:P.getVisibleContacts(t)}}),$)((function(t){var e=t.filteredArr;return c.a.createElement(X.a,{component:"ul",className:Q.a.contactList},e.map((function(t){return c.a.createElement(_.a,{key:t.id,timeout:250,classNames:Q.a,unmountOnExit:!0},c.a.createElement(V,{id:t.id}))})))})),et=n(25),nt=n.n(et),at=n(39),ct=n.n(at),rt=n(26),ot=n.n(rt),it=function(t){var e=t.text;return c.a.createElement("div",{className:ot.a.notifyBlock},c.a.createElement("h2",{className:ot.a.alert},"".concat(e)))},st=n(40),ut=n.n(st),lt=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetContacts()}},{key:"render",value:function(){var t=this.props.isLoadingContacts;return c.a.createElement(c.a.Fragment,null,c.a.createElement(_.a,{in:!0===this.props.emptyField,timeout:250,classNames:ut.a,unmountOnExit:!0},c.a.createElement(it,{text:"One of the fields is not filled"})),c.a.createElement("div",null,!0===t&&c.a.createElement("h1",null,"Loading..."),c.a.createElement(_.a,{in:!0,classNames:nt.a,timeout:700,appear:!0,unmountOnExit:!0},c.a.createElement("h2",{className:nt.a.title},"Phonebook")),c.a.createElement(I,null),c.a.createElement(_.a,{in:!0,appear:!0,classNames:ct.a,timeout:250,unmountOnExit:!0},c.a.createElement(G,null)),c.a.createElement(tt,null)))}}]),n}(a.Component),mt={onGetContacts:R.getContact},ft=Object(d.b)((function(t){return{isLoadingContacts:P.getLoading(t),emptyField:P.getShowNotify(t)}}),mt)(lt),bt=n(19),_t=n(3),dt=Object(C.c)([],(Y={},Object(m.a)(Y,k.addContactsSuccess,(function(t,e){return""===e.payload.name||""===e.payload.number?t:[].concat(Object(bt.a)(t),[e.payload])})),Object(m.a)(Y,k.getContactsSuccess,(function(t,e){return e.payload})),Object(m.a)(Y,k.removeContactsSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),Y)),pt=Object(C.c)("",Object(m.a)({},p,(function(t,e){return e.payload}))),Ct=Object(C.c)(!1,(z={},Object(m.a)(z,k.getContactsRequest,(function(t,e){return!0})),Object(m.a)(z,k.getContactsSuccess,(function(t,e){return!1})),Object(m.a)(z,k.getContactsSuccess,(function(t,e){return!1})),Object(m.a)(z,k.addContactsRequest,(function(t,e){return!0})),Object(m.a)(z,k.addContactsSuccess,(function(t,e){return!1})),Object(m.a)(z,k.addContactsError,(function(t,e){return!1})),z)),ht=Object(C.c)(!1,(H={},Object(m.a)(H,k.showNotifyTrue,(function(t,e){return!0})),Object(m.a)(H,k.showNotifyFalse,(function(t,e){return!1})),H)),vt=Object(_t.c)({items:dt,filter:pt,loading:Ct,emptyField:ht}),Ot=Object(C.d)(),yt=Object(_t.c)({contacts:vt}),jt=Object(C.a)({reducer:yt,middleware:Object(bt.a)(Ot)});o.a.render(c.a.createElement(d.a,{store:jt},c.a.createElement(ft,null)),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.4bc9b6a1.chunk.js.map